/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.1.0
 */
import{c as n}from"./p-b4c2f2ce.js";import{h as t}from"./p-95affd38.js";function e(n){return"checked"in n}const o=new WeakMap,s=new WeakSet;function c(n){const{formEl:t}=n;return!!t&&("requestSubmit"in t?t.requestSubmit():t.submit(),!0)}function i(n){n.formEl?.reset()}function r(t){const{el:c,value:i}=t,r=n(c,"form");if(!r||function(n,t){const e="calciteInternalFormComponentRegister";let o=!1;return n.addEventListener(e,(n=>{o=n.composedPath().some((n=>s.has(n))),n.stopPropagation()}),{once:!0}),t.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0})),o}(r,c))return;t.formEl=r,t.defaultValue=i,e(t)&&(t.defaultChecked=t.checked);const a=(t.onFormReset||u).bind(t);r.addEventListener("reset",a),o.set(t.el,a),s.add(c)}function u(){e(this)?this.checked=this.defaultChecked:this.value=this.defaultValue}function a(n){const{el:t,formEl:e}=n;if(!e)return;const c=o.get(t);e.removeEventListener("reset",c),o.delete(t),n.formEl=null,s.delete(t)}function f(n,t){n.defaultValue=t}const l=n=>{n.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:!0}))},m=n=>n.removeEventListener("change",l);function d(n,t,o){const{defaultValue:s,disabled:c,name:i,required:r}=n;t.defaultValue=s,t.disabled=c,t.name=i,t.required=r,t.tabIndex=-1,e(n)?(t.checked=n.checked,t.defaultChecked=n.defaultChecked,t.value=n.checked?o||"on":""):t.value=o||"",n.syncHiddenFormInput?.(t)}const p=({component:n})=>(function(n){const{el:t,formEl:e,name:o,value:s}=n,{ownerDocument:c}=t,i=t.querySelectorAll('input[slot="hidden-form-input"]');if(!e||!o)return void i.forEach((n=>{m(n),n.remove()}));const r=Array.isArray(s)?s:[s],u=[],a=new Set;let f;i.forEach((t=>{const e=r.find((n=>n==t.value));null!=e?(a.add(e),d(n,t,e)):u.push(t)})),r.forEach((t=>{if(a.has(t))return;let e=u.pop();e||(e=c.createElement("input"),e.slot="hidden-form-input"),f||(f=c.createDocumentFragment()),f.append(e),e.addEventListener("change",l),d(n,e,t)})),f&&t.append(f),u.forEach((n=>{m(n),n.remove()}))}(n),t("slot",{name:"hidden-form-input"}));export{p as H,f as a,r as c,a as d,i as r,c as s}