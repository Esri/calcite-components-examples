import{r as t,h as a,g as e}from"./p-ff68592a.js";import{g as n}from"./p-a4e6e35b.js";function r(t){return t<0?-1:1}function i(t,a,e){const n=a[0]-t[0];return n?(3*(a[1]-t[1])/n-e)/2:e}function s(t,a,e,n,r){const[i,s]=t,[o,c]=a,h=(o-i)/3;return`C ${r([i+h,s+h*e]).join(",")} ${r([o-h,c-h*n]).join(",")} ${r([o,c]).join(",")}`}const o=class{constructor(a){t(this,a),this.data=[],this.width=300,this.height=100,this.maskId="calcite-graph-mask-"+n()}render(){const{data:t,width:e,height:n,highlightMax:o,highlightMin:c}=this,h=this.maskId;if(!t||0===t.length)return a("svg",{class:"svg",height:n,preserveAspectRatio:"none",viewBox:`0 0 ${e} ${n}`,width:e});const{min:l,max:m}=function(t){const[a,e]=t[0];return t.reduce((({min:t,max:a},[e,n])=>({min:[Math.min(t[0],e),Math.min(t[1],n)],max:[Math.max(a[0],e),Math.max(a[1],n)]})),{min:[a,e],max:[a,e]})}(t),p=function({width:t,height:a,min:e,max:n}){const r=n[0]-e[0],i=n[1]-e[1];return e=>[e[0]/r*t,a-e[1]/i*a]}({min:l,max:m,width:e,height:n}),[f]=p([c,m[1]]),[d]=p([o,m[1]]),$=function({data:t,min:a,max:e,t:n}){if(0===t.length)return"";const[o,c]=n(t[0]),[h,l]=n(a),[m]=n(e);let p,f,d;const $=t.reduce(((a,e,o)=>{if(f=t[o-2],d=t[o-1],o>1){const t=function(t,a,e){const n=a[0]-t[0],i=e[0]-a[0],s=(a[1]-t[1])/(n||i<0&&0),o=(e[1]-a[1])/(i||n<0&&0),c=(s*i+o*n)/(n+i);return(r(s)+r(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}(f,d,e),o=void 0===p?i(f,d,t):p,c=s(f,d,o,t,n);return p=t,`${a} ${c}`}return a}),`M ${h},${l} L ${h},${c} L ${o},${c}`),g=t[t.length-1];return`${$} ${s(d,g,p,i(d,g,p),n)} L ${m},${l} Z`}({data:t,min:l,max:m,t:p});return a("svg",{class:"svg",height:n,preserveAspectRatio:"none",viewBox:`0 0 ${e} ${n}`,width:e},void 0!==c?a("svg",{class:"svg",height:n,preserveAspectRatio:"none",viewBox:`0 0 ${e} ${n}`,width:e},a("mask",{height:"100%",id:h+"1",width:"100%",x:"0%",y:"0%"},a("path",{d:`\n              M 0,0\n              L ${f-1},0\n              L ${f-1},${n}\n              L 0,${n}\n              Z\n            `,fill:"white"})),a("mask",{height:"100%",id:h+"2",width:"100%",x:"0%",y:"0%"},a("path",{d:`\n              M ${f+1},0\n              L ${d-1},0\n              L ${d-1},${n}\n              L ${f+1}, ${n}\n              Z\n            `,fill:"white"})),a("mask",{height:"100%",id:h+"3",width:"100%",x:"0%",y:"0%"},a("path",{d:`\n                  M ${d+1},0\n                  L ${e},0\n                  L ${e},${n}\n                  L ${d+1}, ${n}\n                  Z\n                `,fill:"white"})),a("path",{class:"graph-path",d:$,mask:`url(#${h}1)`}),a("path",{class:"graph-path--highlight",d:$,mask:`url(#${h}2)`}),a("path",{class:"graph-path",d:$,mask:`url(#${h}3)`})):a("path",{class:"graph-path",d:$}))}get el(){return e(this)}};o.style="@-webkit-keyframes calcite-fade-in{0%{opacity:0}100%{opacity:1}}@keyframes calcite-fade-in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes calcite-fade-in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes calcite-fade-in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes calcite-fade-in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes calcite-fade-in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes calcite-fade-in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes calcite-fade-in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}.svg{fill:currentColor;stroke:transparent;margin:0;padding:0;display:block}";export{o as calcite_graph}