var __awaiter=this&&this.__awaiter||function(e,t,r,n){function a(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function o(e){try{f(n.next(e))}catch(e){i(e)}}function s(e){try{f(n["throw"](e))}catch(e){i(e)}}function f(e){e.done?r(e.value):a(e.value).then(o,s)}f((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return f([e,t])}}function f(o){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,a&&(i=o[0]&2?a["return"]:o[0]?a["throw"]||((i=a["return"])&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;if(a=0,i)o=[o[0]&2,i.value];switch(o[0]){case 0:case 1:i=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;a=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}if(i[2])r.ops.pop();r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e];a=0}finally{n=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.0-beta.82
 */import{a as getElementDir}from"./dom-da697a3f.js";var top="top";var bottom="bottom";var right="right";var left="left";var auto="auto";var basePlacements=[top,bottom,right,left];var start="start";var end="end";var clippingParents="clippingParents";var viewport="viewport";var popper="popper";var reference="reference";var variationPlacements=basePlacements.reduce((function(e,t){return e.concat([t+"-"+start,t+"-"+end])}),[]);var placements=[].concat(basePlacements,[auto]).reduce((function(e,t){return e.concat([t,t+"-"+start,t+"-"+end])}),[]);var beforeRead="beforeRead";var read="read";var afterRead="afterRead";var beforeMain="beforeMain";var main="main";var afterMain="afterMain";var beforeWrite="beforeWrite";var write="write";var afterWrite="afterWrite";var modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(e){return e?(e.nodeName||"").toLowerCase():null}function getWindow(e){if(e==null){return window}if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t?t.defaultView||window:window}return e}function isElement(e){var t=getWindow(e).Element;return e instanceof t||e instanceof Element}function isHTMLElement(e){var t=getWindow(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function isShadowRoot(e){if(typeof ShadowRoot==="undefined"){return false}var t=getWindow(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function applyStyles(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{};var n=t.attributes[e]||{};var a=t.elements[e];if(!isHTMLElement(a)||!getNodeName(a)){return}Object.assign(a.style,r);Object.keys(n).forEach((function(e){var t=n[e];if(t===false){a.removeAttribute(e)}else{a.setAttribute(e,t===true?"":t)}}))}))}function effect$2(e){var t=e.state;var r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper);t.styles=r;if(t.elements.arrow){Object.assign(t.elements.arrow.style,r.arrow)}return function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e];var a=t.attributes[e]||{};var i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]);var o=i.reduce((function(e,t){e[t]="";return e}),{});if(!isHTMLElement(n)||!getNodeName(n)){return}Object.assign(n.style,o);Object.keys(a).forEach((function(e){n.removeAttribute(e)}))}))}}var applyStyles$1={name:"applyStyles",enabled:true,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(e){return e.split("-")[0]}var max=Math.max;var min=Math.min;var round=Math.round;function getBoundingClientRect(e,t){if(t===void 0){t=false}var r=e.getBoundingClientRect();var n=1;var a=1;if(isHTMLElement(e)&&t){var i=e.offsetHeight;var o=e.offsetWidth;if(o>0){n=round(r.width)/o||1}if(i>0){a=round(r.height)/i||1}}return{width:r.width/n,height:r.height/a,top:r.top/a,right:r.right/n,bottom:r.bottom/a,left:r.left/n,x:r.left/n,y:r.top/a}}function getLayoutRect(e){var t=getBoundingClientRect(e);var r=e.offsetWidth;var n=e.offsetHeight;if(Math.abs(t.width-r)<=1){r=t.width}if(Math.abs(t.height-n)<=1){n=t.height}return{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function contains(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t)){return true}else if(r&&isShadowRoot(r)){var n=t;do{if(n&&e.isSameNode(n)){return true}n=n.parentNode||n.host}while(n)}return false}function getComputedStyle(e){return getWindow(e).getComputedStyle(e)}function isTableElement(e){return["table","td","th"].indexOf(getNodeName(e))>=0}function getDocumentElement(e){return((isElement(e)?e.ownerDocument:e.document)||window.document).documentElement}function getParentNode(e){if(getNodeName(e)==="html"){return e}return e.assignedSlot||e.parentNode||(isShadowRoot(e)?e.host:null)||getDocumentElement(e)}function getTrueOffsetParent(e){if(!isHTMLElement(e)||getComputedStyle(e).position==="fixed"){return null}return e.offsetParent}function getContainingBlock(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1;var r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&isHTMLElement(e)){var n=getComputedStyle(e);if(n.position==="fixed"){return null}}var a=getParentNode(e);if(isShadowRoot(a)){a=a.host}while(isHTMLElement(a)&&["html","body"].indexOf(getNodeName(a))<0){var i=getComputedStyle(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none"){return a}else{a=a.parentNode}}return null}function getOffsetParent(e){var t=getWindow(e);var r=getTrueOffsetParent(e);while(r&&isTableElement(r)&&getComputedStyle(r).position==="static"){r=getTrueOffsetParent(r)}if(r&&(getNodeName(r)==="html"||getNodeName(r)==="body"&&getComputedStyle(r).position==="static")){return t}return r||getContainingBlock(e)||t}function getMainAxisFromPlacement(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function within(e,t,r){return max(e,min(t,r))}function withinMaxClamp(e,t,r){var n=within(e,t,r);return n>r?r:n}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(e){return Object.assign({},getFreshSideObject(),e)}function expandToHashMap(e,t){return t.reduce((function(t,r){t[r]=e;return t}),{})}var toPaddingObject=function e(t,r){t=typeof t==="function"?t(Object.assign({},r.rects,{placement:r.placement})):t;return mergePaddingObject(typeof t!=="number"?t:expandToHashMap(t,basePlacements))};function arrow(e){var t;var r=e.state,n=e.name,a=e.options;var i=r.elements.arrow;var o=r.modifiersData.popperOffsets;var s=getBasePlacement(r.placement);var f=getMainAxisFromPlacement(s);var l=[left,right].indexOf(s)>=0;var c=l?"height":"width";if(!i||!o){return}var p=toPaddingObject(a.padding,r);var u=getLayoutRect(i);var d=f==="y"?top:left;var v=f==="y"?bottom:right;var m=r.rects.reference[c]+r.rects.reference[f]-o[f]-r.rects.popper[c];var g=o[f]-r.rects.reference[f];var h=getOffsetParent(i);var y=h?f==="y"?h.clientHeight||0:h.clientWidth||0:0;var b=m/2-g/2;var w=p[d];var O=y-u[c]-p[v];var x=y/2-u[c]/2+b;var P=within(w,x,O);var S=f;r.modifiersData[n]=(t={},t[S]=P,t.centerOffset=P-x,t)}function effect$1(e){var t=e.state,r=e.options;var n=r.element,a=n===void 0?"[data-popper-arrow]":n;if(a==null){return}if(typeof a==="string"){a=t.elements.popper.querySelector(a);if(!a){return}}if(!contains(t.elements.popper,a)){return}t.elements.arrow=a}var arrow$1={name:"arrow",enabled:true,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(e){return e.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(e){var t=e.x,r=e.y;var n=window;var a=n.devicePixelRatio||1;return{x:round(t*a)/a||0,y:round(r*a)/a||0}}function mapToStyles(e){var t;var r=e.popper,n=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,s=e.position,f=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,p=e.isFixed;var u=o.x,d=u===void 0?0:u,v=o.y,m=v===void 0?0:v;var g=typeof c==="function"?c({x:d,y:m}):{x:d,y:m};d=g.x;m=g.y;var h=o.hasOwnProperty("x");var y=o.hasOwnProperty("y");var b=left;var w=top;var O=window;if(l){var x=getOffsetParent(r);var P="clientHeight";var S="clientWidth";if(x===getWindow(r)){x=getDocumentElement(r);if(getComputedStyle(x).position!=="static"&&s==="absolute"){P="scrollHeight";S="scrollWidth"}}x=x;if(a===top||(a===left||a===right)&&i===end){w=bottom;var E=p&&x===O&&O.visualViewport?O.visualViewport.height:x[P];m-=E-n.height;m*=f?1:-1}if(a===left||(a===top||a===bottom)&&i===end){b=right;var M=p&&x===O&&O.visualViewport?O.visualViewport.width:x[S];d-=M-n.width;d*=f?1:-1}}var C=Object.assign({position:s},l&&unsetSides);var T=c===true?roundOffsetsByDPR({x:d,y:m}):{x:d,y:m};d=T.x;m=T.y;if(f){var R;return Object.assign({},C,(R={},R[w]=y?"0":"",R[b]=h?"0":"",R.transform=(O.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",R))}return Object.assign({},C,(t={},t[w]=y?m+"px":"",t[b]=h?d+"px":"",t.transform="",t))}function computeStyles(e){var t=e.state,r=e.options;var n=r.gpuAcceleration,a=n===void 0?true:n,i=r.adaptive,o=i===void 0?true:i,s=r.roundOffsets,f=s===void 0?true:s;var l={placement:getBasePlacement(t.placement),variation:getVariation(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};if(t.modifiersData.popperOffsets!=null){t.styles.popper=Object.assign({},t.styles.popper,mapToStyles(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:f})))}if(t.modifiersData.arrow!=null){t.styles.arrow=Object.assign({},t.styles.arrow,mapToStyles(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:false,roundOffsets:f})))}t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var computeStyles$1={name:"computeStyles",enabled:true,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:true};function effect(e){var t=e.state,r=e.instance,n=e.options;var a=n.scroll,i=a===void 0?true:a,o=n.resize,s=o===void 0?true:o;var f=getWindow(t.elements.popper);var l=[].concat(t.scrollParents.reference,t.scrollParents.popper);if(i){l.forEach((function(e){e.addEventListener("scroll",r.update,passive)}))}if(s){f.addEventListener("resize",r.update,passive)}return function(){if(i){l.forEach((function(e){e.removeEventListener("scroll",r.update,passive)}))}if(s){f.removeEventListener("resize",r.update,passive)}}}var eventListeners={name:"eventListeners",enabled:true,phase:"write",fn:function e(){},effect:effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,(function(e){return hash$1[e]}))}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(e){return e.replace(/start|end/g,(function(e){return hash[e]}))}function getWindowScroll(e){var t=getWindow(e);var r=t.pageXOffset;var n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getWindowScroll(e).scrollLeft}function getViewportRect(e){var t=getWindow(e);var r=getDocumentElement(e);var n=t.visualViewport;var a=r.clientWidth;var i=r.clientHeight;var o=0;var s=0;if(n){a=n.width;i=n.height;if(!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){o=n.offsetLeft;s=n.offsetTop}}return{width:a,height:i,x:o+getWindowScrollBarX(e),y:s}}function getDocumentRect(e){var t;var r=getDocumentElement(e);var n=getWindowScroll(e);var a=(t=e.ownerDocument)==null?void 0:t.body;var i=max(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0);var o=max(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);var s=-n.scrollLeft+getWindowScrollBarX(e);var f=-n.scrollTop;if(getComputedStyle(a||r).direction==="rtl"){s+=max(r.clientWidth,a?a.clientWidth:0)-i}return{width:i,height:o,x:s,y:f}}function isScrollParent(e){var t=getComputedStyle(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function getScrollParent(e){if(["html","body","#document"].indexOf(getNodeName(e))>=0){return e.ownerDocument.body}if(isHTMLElement(e)&&isScrollParent(e)){return e}return getScrollParent(getParentNode(e))}function listScrollParents(e,t){var r;if(t===void 0){t=[]}var n=getScrollParent(e);var a=n===((r=e.ownerDocument)==null?void 0:r.body);var i=getWindow(n);var o=a?[i].concat(i.visualViewport||[],isScrollParent(n)?n:[]):n;var s=t.concat(o);return a?s:s.concat(listScrollParents(getParentNode(o)))}function rectToClientRect(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function getInnerBoundingClientRect(e){var t=getBoundingClientRect(e);t.top=t.top+e.clientTop;t.left=t.left+e.clientLeft;t.bottom=t.top+e.clientHeight;t.right=t.left+e.clientWidth;t.width=e.clientWidth;t.height=e.clientHeight;t.x=t.left;t.y=t.top;return t}function getClientRectFromMixedType(e,t){return t===viewport?rectToClientRect(getViewportRect(e)):isElement(t)?getInnerBoundingClientRect(t):rectToClientRect(getDocumentRect(getDocumentElement(e)))}function getClippingParents(e){var t=listScrollParents(getParentNode(e));var r=["absolute","fixed"].indexOf(getComputedStyle(e).position)>=0;var n=r&&isHTMLElement(e)?getOffsetParent(e):e;if(!isElement(n)){return[]}return t.filter((function(e){return isElement(e)&&contains(e,n)&&getNodeName(e)!=="body"}))}function getClippingRect(e,t,r){var n=t==="clippingParents"?getClippingParents(e):[].concat(t);var a=[].concat(n,[r]);var i=a[0];var o=a.reduce((function(t,r){var n=getClientRectFromMixedType(e,r);t.top=max(n.top,t.top);t.right=min(n.right,t.right);t.bottom=min(n.bottom,t.bottom);t.left=max(n.left,t.left);return t}),getClientRectFromMixedType(e,i));o.width=o.right-o.left;o.height=o.bottom-o.top;o.x=o.left;o.y=o.top;return o}function computeOffsets(e){var t=e.reference,r=e.element,n=e.placement;var a=n?getBasePlacement(n):null;var i=n?getVariation(n):null;var o=t.x+t.width/2-r.width/2;var s=t.y+t.height/2-r.height/2;var f;switch(a){case top:f={x:o,y:t.y-r.height};break;case bottom:f={x:o,y:t.y+t.height};break;case right:f={x:t.x+t.width,y:s};break;case left:f={x:t.x-r.width,y:s};break;default:f={x:t.x,y:t.y}}var l=a?getMainAxisFromPlacement(a):null;if(l!=null){var c=l==="y"?"height":"width";switch(i){case start:f[l]=f[l]-(t[c]/2-r[c]/2);break;case end:f[l]=f[l]+(t[c]/2-r[c]/2);break}}return f}function detectOverflow(e,t){if(t===void 0){t={}}var r=t,n=r.placement,a=n===void 0?e.placement:n,i=r.boundary,o=i===void 0?clippingParents:i,s=r.rootBoundary,f=s===void 0?viewport:s,l=r.elementContext,c=l===void 0?popper:l,p=r.altBoundary,u=p===void 0?false:p,d=r.padding,v=d===void 0?0:d;var m=mergePaddingObject(typeof v!=="number"?v:expandToHashMap(v,basePlacements));var g=c===popper?reference:popper;var h=e.rects.popper;var y=e.elements[u?g:c];var b=getClippingRect(isElement(y)?y:y.contextElement||getDocumentElement(e.elements.popper),o,f);var w=getBoundingClientRect(e.elements.reference);var O=computeOffsets({reference:w,element:h,strategy:"absolute",placement:a});var x=rectToClientRect(Object.assign({},h,O));var P=c===popper?x:w;var S={top:b.top-P.top+m.top,bottom:P.bottom-b.bottom+m.bottom,left:b.left-P.left+m.left,right:P.right-b.right+m.right};var E=e.modifiersData.offset;if(c===popper&&E){var M=E[a];Object.keys(S).forEach((function(e){var t=[right,bottom].indexOf(e)>=0?1:-1;var r=[top,bottom].indexOf(e)>=0?"y":"x";S[e]+=M[r]*t}))}return S}function computeAutoPlacement(e,t){if(t===void 0){t={}}var r=t,n=r.placement,a=r.boundary,i=r.rootBoundary,o=r.padding,s=r.flipVariations,f=r.allowedAutoPlacements,l=f===void 0?placements:f;var c=getVariation(n);var p=c?s?variationPlacements:variationPlacements.filter((function(e){return getVariation(e)===c})):basePlacements;var u=p.filter((function(e){return l.indexOf(e)>=0}));if(u.length===0){u=p}var d=u.reduce((function(t,r){t[r]=detectOverflow(e,{placement:r,boundary:a,rootBoundary:i,padding:o})[getBasePlacement(r)];return t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}function getExpandedFallbackPlacements(e){if(getBasePlacement(e)===auto){return[]}var t=getOppositePlacement(e);return[getOppositeVariationPlacement(e),t,getOppositeVariationPlacement(t)]}function flip(e){var t=e.state,r=e.options,n=e.name;if(t.modifiersData[n]._skip){return}var a=r.mainAxis,i=a===void 0?true:a,o=r.altAxis,s=o===void 0?true:o,f=r.fallbackPlacements,l=r.padding,c=r.boundary,p=r.rootBoundary,u=r.altBoundary,d=r.flipVariations,v=d===void 0?true:d,m=r.allowedAutoPlacements;var g=t.options.placement;var h=getBasePlacement(g);var y=h===g;var b=f||(y||!v?[getOppositePlacement(g)]:getExpandedFallbackPlacements(g));var w=[g].concat(b).reduce((function(e,r){return e.concat(getBasePlacement(r)===auto?computeAutoPlacement(t,{placement:r,boundary:c,rootBoundary:p,padding:l,flipVariations:v,allowedAutoPlacements:m}):r)}),[]);var O=t.rects.reference;var x=t.rects.popper;var P=new Map;var S=true;var E=w[0];for(var M=0;M<w.length;M++){var C=w[M];var T=getBasePlacement(C);var R=getVariation(C)===start;var D=[top,bottom].indexOf(T)>=0;var B=D?"width":"height";var A=detectOverflow(t,{placement:C,boundary:c,rootBoundary:p,altBoundary:u,padding:l});var j=D?R?right:left:R?bottom:top;if(O[B]>x[B]){j=getOppositePlacement(j)}var L=getOppositePlacement(j);var W=[];if(i){W.push(A[T]<=0)}if(s){W.push(A[j]<=0,A[L]<=0)}if(W.every((function(e){return e}))){E=C;S=false;break}P.set(C,W)}if(S){var N=v?3:1;var H=function e(t){var r=w.find((function(e){var r=P.get(e);if(r){return r.slice(0,t).every((function(e){return e}))}}));if(r){E=r;return"break"}};for(var k=N;k>0;k--){var V=H(k);if(V==="break")break}}if(t.placement!==E){t.modifiersData[n]._skip=true;t.placement=E;t.reset=true}}var flip$1={name:"flip",enabled:true,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:false}};function getSideOffsets(e,t,r){if(r===void 0){r={x:0,y:0}}return{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function isAnySideFullyClipped(e){return[top,right,bottom,left].some((function(t){return e[t]>=0}))}function hide(e){var t=e.state,r=e.name;var n=t.rects.reference;var a=t.rects.popper;var i=t.modifiersData.preventOverflow;var o=detectOverflow(t,{elementContext:"reference"});var s=detectOverflow(t,{altBoundary:true});var f=getSideOffsets(o,n);var l=getSideOffsets(s,a,i);var c=isAnySideFullyClipped(f);var p=isAnySideFullyClipped(l);t.modifiersData[r]={referenceClippingOffsets:f,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:p};t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":p})}var hide$1={name:"hide",enabled:true,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(e,t,r){var n=getBasePlacement(e);var a=[left,top].indexOf(n)>=0?-1:1;var i=typeof r==="function"?r(Object.assign({},t,{placement:e})):r,o=i[0],s=i[1];o=o||0;s=(s||0)*a;return[left,right].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function offset(e){var t=e.state,r=e.options,n=e.name;var a=r.offset,i=a===void 0?[0,0]:a;var o=placements.reduce((function(e,r){e[r]=distanceAndSkiddingToXY(r,t.rects,i);return e}),{});var s=o[t.placement],f=s.x,l=s.y;if(t.modifiersData.popperOffsets!=null){t.modifiersData.popperOffsets.x+=f;t.modifiersData.popperOffsets.y+=l}t.modifiersData[n]=o}var offset$1={name:"offset",enabled:true,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(e){var t=e.state,r=e.name;t.modifiersData[r]=computeOffsets({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var popperOffsets$1={name:"popperOffsets",enabled:true,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(e){return e==="x"?"y":"x"}function preventOverflow(e){var t=e.state,r=e.options,n=e.name;var a=r.mainAxis,i=a===void 0?true:a,o=r.altAxis,s=o===void 0?false:o,f=r.boundary,l=r.rootBoundary,c=r.altBoundary,p=r.padding,u=r.tether,d=u===void 0?true:u,v=r.tetherOffset,m=v===void 0?0:v;var g=detectOverflow(t,{boundary:f,rootBoundary:l,padding:p,altBoundary:c});var h=getBasePlacement(t.placement);var y=getVariation(t.placement);var b=!y;var w=getMainAxisFromPlacement(h);var O=getAltAxis(w);var x=t.modifiersData.popperOffsets;var P=t.rects.reference;var S=t.rects.popper;var E=typeof m==="function"?m(Object.assign({},t.rects,{placement:t.placement})):m;var M=typeof E==="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E);var C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null;var T={x:0,y:0};if(!x){return}if(i){var R;var D=w==="y"?top:left;var B=w==="y"?bottom:right;var A=w==="y"?"height":"width";var j=x[w];var L=j+g[D];var W=j-g[B];var N=d?-S[A]/2:0;var H=y===start?P[A]:S[A];var k=y===start?-S[A]:-P[A];var V=t.elements.arrow;var $=d&&V?getLayoutRect(V):{width:0,height:0};var F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:getFreshSideObject();var _=F[D];var q=F[B];var I=within(0,P[A],$[A]);var X=b?P[A]/2-N-I-_-M.mainAxis:H-I-_-M.mainAxis;var U=b?-P[A]/2+N+I+q+M.mainAxis:k+I+q+M.mainAxis;var z=t.elements.arrow&&getOffsetParent(t.elements.arrow);var Y=z?w==="y"?z.clientTop||0:z.clientLeft||0:0;var G=(R=C==null?void 0:C[w])!=null?R:0;var J=j+X-G-Y;var K=j+U-G;var Q=within(d?min(L,J):L,j,d?max(W,K):W);x[w]=Q;T[w]=Q-j}if(s){var Z;var ee=w==="x"?top:left;var te=w==="x"?bottom:right;var re=x[O];var ne=O==="y"?"height":"width";var ae=re+g[ee];var ie=re-g[te];var oe=[top,left].indexOf(h)!==-1;var se=(Z=C==null?void 0:C[O])!=null?Z:0;var fe=oe?ae:re-P[ne]-S[ne]-se+M.altAxis;var le=oe?re+P[ne]+S[ne]-se-M.altAxis:ie;var ce=d&&oe?withinMaxClamp(fe,re,le):within(d?fe:ae,re,d?le:ie);x[O]=ce;T[O]=ce-re}t.modifiersData[n]=T}var preventOverflow$1={name:"preventOverflow",enabled:true,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function getNodeScroll(e){if(e===getWindow(e)||!isHTMLElement(e)){return getWindowScroll(e)}else{return getHTMLElementScroll(e)}}function isElementScaled(e){var t=e.getBoundingClientRect();var r=round(t.width)/e.offsetWidth||1;var n=round(t.height)/e.offsetHeight||1;return r!==1||n!==1}function getCompositeRect(e,t,r){if(r===void 0){r=false}var n=isHTMLElement(t);var a=isHTMLElement(t)&&isElementScaled(t);var i=getDocumentElement(t);var o=getBoundingClientRect(e,a);var s={scrollLeft:0,scrollTop:0};var f={x:0,y:0};if(n||!n&&!r){if(getNodeName(t)!=="body"||isScrollParent(i)){s=getNodeScroll(t)}if(isHTMLElement(t)){f=getBoundingClientRect(t,true);f.x+=t.clientLeft;f.y+=t.clientTop}else if(i){f.x=getWindowScrollBarX(i)}}return{x:o.left+s.scrollLeft-f.x,y:o.top+s.scrollTop-f.y,width:o.width,height:o.height}}function order(e){var t=new Map;var r=new Set;var n=[];e.forEach((function(e){t.set(e.name,e)}));function a(e){r.add(e.name);var i=[].concat(e.requires||[],e.requiresIfExists||[]);i.forEach((function(e){if(!r.has(e)){var n=t.get(e);if(n){a(n)}}}));n.push(e)}e.forEach((function(e){if(!r.has(e.name)){a(e)}}));return n}function orderModifiers(e){var t=order(e);return modifierPhases.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}function debounce(e){var t;return function(){if(!t){t=new Promise((function(r){Promise.resolve().then((function(){t=undefined;r(e())}))}))}return t}}function mergeByName(e){var t=e.reduce((function(e,t){var r=e[t.name];e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t;return e}),{});return Object.keys(t).map((function(e){return t[e]}))}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return!t.some((function(e){return!(e&&typeof e.getBoundingClientRect==="function")}))}function popperGenerator(e){if(e===void 0){e={}}var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?DEFAULT_OPTIONS:a;return function e(t,r,a){if(a===void 0){a=i}var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,i),modifiersData:{},elements:{reference:t,popper:r},attributes:{},styles:{}};var s=[];var f=false;var l={state:o,setOptions:function e(a){var s=typeof a==="function"?a(o.options):a;p();o.options=Object.assign({},i,o.options,s);o.scrollParents={reference:isElement(t)?listScrollParents(t):t.contextElement?listScrollParents(t.contextElement):[],popper:listScrollParents(r)};var f=orderModifiers(mergeByName([].concat(n,o.options.modifiers)));o.orderedModifiers=f.filter((function(e){return e.enabled}));c();return l.update()},forceUpdate:function e(){if(f){return}var t=o.elements,r=t.reference,n=t.popper;if(!areValidElements(r,n)){return}o.rects={reference:getCompositeRect(r,getOffsetParent(n),o.options.strategy==="fixed"),popper:getLayoutRect(n)};o.reset=false;o.placement=o.options.placement;o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var a=0;a<o.orderedModifiers.length;a++){if(o.reset===true){o.reset=false;a=-1;continue}var i=o.orderedModifiers[a],s=i.fn,c=i.options,p=c===void 0?{}:c,u=i.name;if(typeof s==="function"){o=s({state:o,options:p,name:u,instance:l})||o}}},update:debounce((function(){return new Promise((function(e){l.forceUpdate();e(o)}))})),destroy:function e(){p();f=true}};if(!areValidElements(t,r)){return l}l.setOptions(a).then((function(e){if(!f&&a.onFirstUpdate){a.onFirstUpdate(e)}}));function c(){o.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=r===void 0?{}:r,a=e.effect;if(typeof a==="function"){var i=a({state:o,name:t,instance:l,options:n});var f=function e(){};s.push(i||f)}}))}function p(){s.forEach((function(e){return e()}));s=[]}return l}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1];var createPopper$1=popperGenerator({defaultModifiers:defaultModifiers});var popperComputedPlacements=["top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end"];var defaultMenuPlacement="bottom-leading";var popperMenuComputedPlacements=["top-start","top","top-end","bottom-start","bottom","bottom-end"];var CSS={animation:"calcite-popper-anim",animationActive:"calcite-popper-anim--active"};function filterComputedPlacements(e,t){var r=e.filter((function(e){return popperComputedPlacements.includes(e)}));if(r.length!==e.length){console.warn("".concat(t.tagName,": Invalid value found in: flipPlacements. Try any of these: ").concat(popperComputedPlacements.map((function(e){return'"'.concat(e,'"')})).join(", ").trim()),{el:t})}return r}function getPlacement(e,t){var r=["left","right"];var n=["start","end"];if(getElementDir(e)==="rtl"){r.reverse();n.reverse()}return t.replace(/-leading/gi,"-".concat(n[0])).replace(/-trailing/gi,"-".concat(n[1])).replace(/leading/gi,r[0]).replace(/trailing/gi,r[1])}function createPopper(e){var t=e.referenceEl,r=e.el,n=e.placement,a=e.overlayPositioning,i=a===void 0?"absolute":a,o=e.modifiers;if(!t){return null}return createPopper$1(t,r,{strategy:i,placement:getPlacement(r,n),modifiers:o})}function updatePopper(e){var t=e.el,r=e.modifiers,n=e.placement,a=e.popper;return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(i){switch(i.label){case 0:e=getPlacement(t,n);return[4,a.setOptions({modifiers:r,placement:e})];case 1:i.sent();return[2]}}))}))}function hypotenuse(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}var visiblePointerSize=4;var defaultOffsetDistance=Math.ceil(hypotenuse(visiblePointerSize,visiblePointerSize));export{CSS as C,defaultOffsetDistance as a,createPopper as c,defaultMenuPlacement as d,filterComputedPlacements as f,popperMenuComputedPlacements as p,updatePopper as u};